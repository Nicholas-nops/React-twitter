{"ast":null,"code":"import axios from 'axios';\nconst apiUrl = 'http://localhost:3001/tweets';\n\nasync function getAllTweets() {\n  const res = await axios.get(apiUrl);\n  const tweets = res.data.map(data => {\n    const {\n      id,\n      value\n    } = data;\n    return { ...data,\n      id,\n      value\n    };\n  });\n  return tweets;\n}\n\nasync function insertTweet(tweet) {\n  const response = await axios.post(apiUrl, tweet.id);\n  return response.data.id;\n} //requisição com axios\n\n/* async function getAllGrades() {\r\n    const res = await axios.get(apiUrl)\r\n\r\n    const grades = res.data.grades.map(grade => {\r\n        //desestruturando data de grades\r\n        const { student, subject, type } = grade;\r\n\r\n        return {\r\n            ...grade,\r\n            studentLowerCase: student.toLowerCase(),\r\n            subjectLowerCase: subject.toLowerCase(),\r\n            typeLowerCase: type.toLowerCase(),\r\n            isDeleted: false\r\n        };\r\n    })\r\n    let allStudents = new Set();\r\n    grades.forEach((grade) => allStudents.add(grade.student));\r\n    allStudents = Array.from(allStudents);\r\n\r\n    let allSubjects = new Set();\r\n    grades.forEach((grade) => allSubjects.add(grade.subject));\r\n    allSubjects = Array.from(allSubjects);\r\n\r\n    let allTypes = new Set();\r\n    grades.forEach((grade) => allTypes.add(grade.type));\r\n    allTypes = Array.from(allTypes);\r\n\r\n    let maxId = -1;\r\n    grades.forEach(({id}) => {\r\n        if(id > maxId) {\r\n            maxId = id\r\n        }\r\n    })\r\n    let nexId = maxId + 1\r\n    const allCombinations = [];\r\n    allStudents.forEach((student) => {\r\n        allSubjects.forEach((subject) => {\r\n            allTypes.forEach((type) => {\r\n                allCombinations.push({\r\n                    student,\r\n                    subject,\r\n                    type,\r\n                })\r\n            })\r\n        })\r\n    })\r\n    allCombinations.forEach(({ student, subject, type }) => {\r\n\r\n        const hasItem = grades.find(grade => {\r\n           return grade.subject === subject && grade.student === student && grade.type === type;\r\n        });\r\n        if (!hasItem) {\r\n            grades.push({\r\n                id: nexId++,\r\n                student,\r\n                studentLowerCase: student.toLowerCase(),\r\n                subject,\r\n                subjectLowerCase: subject.toLowerCase(),\r\n                type,\r\n                typeLowerCase: type.toLowerCase(),\r\n                value: 0,\r\n                isDeleted: true\r\n            })\r\n        }\r\n    })\r\n\r\n    grades.sort((a,b) => a.typeLowerCase.localeCompare(b.typeLowerCase));\r\n    grades.sort((a,b) => a.subjectLowerCase.localeCompare(b.subjectLowerCase));\r\n    grades.sort((a,b) => a.studentLowerCase.localeCompare(b.studentLowerCase));\r\n    return grades;\r\n}\r\n//insert com axios\r\nasync function insertGrade(grade) {\r\n    const response = await axios.post(apiUrl,grade);\r\n    return response.data.id;\r\n}\r\n\r\nasync function updateGrade(grade) {\r\n    const response = await axios.put(apiUrl,grade);\r\n    return response.data;\r\n}\r\n\r\nasync function deleteGrade(grade) {\r\n    const response = await axios.delete(`${apiUrl}/${grade.id}`);\r\n    return response.data;\r\n}\r\nasync function getValidationFromGradeType(gradeType) {\r\n    const gradeValidation = grade_Validation.find(item => item.gradeType === gradeType);\r\n\r\n    const {minValue, maxValue} = gradeValidation;\r\n\r\n    return  {\r\n        minValue,\r\n        maxValue,\r\n    }\r\n}\r\n\r\n */\n\n\nexport { getAllTweets, insertTweet };","map":{"version":3,"sources":["C:/Users/Nicholas/Desktop/React/ReactTwitter/src/api/apiService.js"],"names":["axios","apiUrl","getAllTweets","res","get","tweets","data","map","id","value","insertTweet","tweet","response","post"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,MAAMC,MAAM,GAAG,8BAAf;;AAEA,eAAeC,YAAf,GAA8B;AAC1B,QAAMC,GAAG,GAAG,MAAMH,KAAK,CAACI,GAAN,CAAUH,MAAV,CAAlB;AACA,QAAMI,MAAM,GAAGF,GAAG,CAACG,IAAJ,CAASC,GAAT,CAAaD,IAAI,IAAI;AAChC,UAAM;AAAEE,MAAAA,EAAF;AAAMC,MAAAA;AAAN,QAAgBH,IAAtB;AACA,WAAO,EACH,GAAGA,IADA;AAEHE,MAAAA,EAFG;AAGHC,MAAAA;AAHG,KAAP;AAKH,GAPc,CAAf;AAQA,SAAOJ,MAAP;AACH;;AAED,eAAeK,WAAf,CAA2BC,KAA3B,EAAkC;AAC9B,QAAMC,QAAQ,GAAG,MAAMZ,KAAK,CAACa,IAAN,CAAWZ,MAAX,EAAkBU,KAAK,CAACH,EAAxB,CAAvB;AACA,SAAOI,QAAQ,CAACN,IAAT,CAAcE,EAArB;AACH,C,CAED;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkGA,SAASN,YAAT,EAAwBQ,WAAxB","sourcesContent":["import axios from 'axios'\r\n\r\nconst apiUrl = 'http://localhost:3001/tweets'\r\n\r\nasync function getAllTweets() {\r\n    const res = await axios.get(apiUrl)\r\n    const tweets = res.data.map(data => {\r\n        const { id, value } = data;\r\n        return {\r\n            ...data,\r\n            id,\r\n            value\r\n        }\r\n    })\r\n    return tweets;\r\n}\r\n\r\nasync function insertTweet(tweet) {\r\n    const response = await axios.post(apiUrl,tweet.id);\r\n    return response.data.id;\r\n}\r\n\r\n//requisição com axios\r\n/* async function getAllGrades() {\r\n    const res = await axios.get(apiUrl)\r\n\r\n    const grades = res.data.grades.map(grade => {\r\n        //desestruturando data de grades\r\n        const { student, subject, type } = grade;\r\n\r\n        return {\r\n            ...grade,\r\n            studentLowerCase: student.toLowerCase(),\r\n            subjectLowerCase: subject.toLowerCase(),\r\n            typeLowerCase: type.toLowerCase(),\r\n            isDeleted: false\r\n        };\r\n    })\r\n    let allStudents = new Set();\r\n    grades.forEach((grade) => allStudents.add(grade.student));\r\n    allStudents = Array.from(allStudents);\r\n\r\n    let allSubjects = new Set();\r\n    grades.forEach((grade) => allSubjects.add(grade.subject));\r\n    allSubjects = Array.from(allSubjects);\r\n\r\n    let allTypes = new Set();\r\n    grades.forEach((grade) => allTypes.add(grade.type));\r\n    allTypes = Array.from(allTypes);\r\n\r\n    let maxId = -1;\r\n    grades.forEach(({id}) => {\r\n        if(id > maxId) {\r\n            maxId = id\r\n        }\r\n    })\r\n    let nexId = maxId + 1\r\n    const allCombinations = [];\r\n    allStudents.forEach((student) => {\r\n        allSubjects.forEach((subject) => {\r\n            allTypes.forEach((type) => {\r\n                allCombinations.push({\r\n                    student,\r\n                    subject,\r\n                    type,\r\n                })\r\n            })\r\n        })\r\n    })\r\n    allCombinations.forEach(({ student, subject, type }) => {\r\n\r\n        const hasItem = grades.find(grade => {\r\n           return grade.subject === subject && grade.student === student && grade.type === type;\r\n        });\r\n        if (!hasItem) {\r\n            grades.push({\r\n                id: nexId++,\r\n                student,\r\n                studentLowerCase: student.toLowerCase(),\r\n                subject,\r\n                subjectLowerCase: subject.toLowerCase(),\r\n                type,\r\n                typeLowerCase: type.toLowerCase(),\r\n                value: 0,\r\n                isDeleted: true\r\n            })\r\n        }\r\n    })\r\n\r\n    grades.sort((a,b) => a.typeLowerCase.localeCompare(b.typeLowerCase));\r\n    grades.sort((a,b) => a.subjectLowerCase.localeCompare(b.subjectLowerCase));\r\n    grades.sort((a,b) => a.studentLowerCase.localeCompare(b.studentLowerCase));\r\n    return grades;\r\n}\r\n//insert com axios\r\nasync function insertGrade(grade) {\r\n    const response = await axios.post(apiUrl,grade);\r\n    return response.data.id;\r\n}\r\n\r\nasync function updateGrade(grade) {\r\n    const response = await axios.put(apiUrl,grade);\r\n    return response.data;\r\n}\r\n\r\nasync function deleteGrade(grade) {\r\n    const response = await axios.delete(`${apiUrl}/${grade.id}`);\r\n    return response.data;\r\n}\r\nasync function getValidationFromGradeType(gradeType) {\r\n    const gradeValidation = grade_Validation.find(item => item.gradeType === gradeType);\r\n\r\n    const {minValue, maxValue} = gradeValidation;\r\n\r\n    return  {\r\n        minValue,\r\n        maxValue,\r\n    }\r\n}\r\n\r\n */\r\nexport { getAllTweets , insertTweet}\r\n"]},"metadata":{},"sourceType":"module"}